<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WZHW34FRXN"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-WZHW34FRXN');
    </script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ishan's Website</title>

<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family:'Space Grotesk', 'JetBrains Mono', monospace;
    background:#000;
    color:#00ff00;
    overflow-x:hidden;
    line-height:1.6;
    min-height:100vh;
    position:relative;
}

#globe-canvas {
    position:fixed; 
    top:0; 
    left:0; 
    width:100%; 
    height:100%; 
    z-index:1;
    display:block;
}

.crt-effect {
    position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:9999;
    background:linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,.25) 50%);
    background-size:100% 4px;
    animation:crt-flicker .15s infinite;
    display:none; /* CRT effect disabled */
}
@keyframes crt-flicker { 0%,100%{opacity:.97} 50%{opacity:1} }

.header-social {
    position:fixed;
    top:1rem;
    right:1rem;
    z-index:10;
    display:flex;
    gap:1rem;
    flex-wrap:wrap;
    justify-content:flex-end;
    max-width:200px;
}

.social-link {
    color:#00ff00;
    text-decoration:none;
    font-size:0.85rem;
    padding:0.6rem;
    border:1px solid #00ff00;
    border-radius:50%;
    width:45px;
    height:45px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all 0.3s;
    text-shadow:0 0 5px #00ff00;
    background:rgba(0,0,0,0.7);
    flex-shrink:0;
}

.social-link:hover {
    background:rgba(0,255,0,0.2);
    box-shadow:0 0 20px #00ff00;
    transform:scale(1.1);
}

.social-link svg {
    width:20px;
    height:20px;
}

.back-home {
    position:fixed;
    top:1rem;
    left:1rem;
    z-index:10;
    color:#00ff00;
    text-decoration:none;
    font-size:0.85rem;
    font-weight:600;
    padding:0.7rem 1.2rem;
    border:1px solid #00ff00;
    border-radius:5px;
    display:flex;
    align-items:center;
    gap:0.5rem;
    transition:all 0.3s;
    text-shadow:0 0 5px #00ff00;
    background:rgba(0,0,0,0.7);
    white-space:nowrap;
    letter-spacing:0.5px;
}

.back-home:hover {
    background:rgba(0,255,0,0.2);
    box-shadow:0 0 20px #00ff00;
    transform:translateX(-5px);
}

.back-home svg {
    transition:transform 0.3s;
    width:18px;
    height:18px;
    flex-shrink:0;
}

.back-home:hover svg {
    transform:translateX(-3px);
}

.skills-toggle {
    position:fixed;
    bottom:2rem;
    left:1rem;
    z-index:10;
    color:#00ff00;
    font-size:0.85rem;
    font-weight:600;
    padding:0.8rem 1.2rem;
    border:1px solid #00ff00;
    border-radius:5px;
    display:flex;
    align-items:center;
    gap:0.5rem;
    transition:all 0.3s;
    text-shadow:0 0 5px #00ff00;
    background:rgba(0,0,0,0.7);
    cursor:pointer;
    white-space:nowrap;
    letter-spacing:0.5px;
}

.skills-toggle:hover {
    background:rgba(0,255,0,0.2);
    box-shadow:0 0 20px #00ff00;
    transform:translateX(5px);
}

.skills-toggle svg {
    width:18px;
    height:18px;
    transition:transform 0.3s;
}

.skills-toggle:hover svg {
    transform:translateX(3px);
}

.panel-overlay {
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.7);
    z-index:999;
    display:none;
    opacity:0;
    transition:opacity 0.3s;
}

.panel-overlay.active {
    display:block;
    opacity:1;
}

.skills-panel {
    position:fixed;
    top:0;
    left:-400px;
    width:350px;
    height:100vh;
    background:rgba(0,0,0,0.95);
    border-right:2px solid #00ff00;
    box-shadow:0 0 50px rgba(0,255,0,0.3);
    z-index:1000;
    transition:left 0.4s ease;
    overflow-y:auto;
    padding:2rem 1.5rem;
}

.skills-panel.active {
    left:0;
}

.skills-panel-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:2rem;
    padding-bottom:1rem;
    border-bottom:1px solid rgba(0,255,0,0.3);
}

.skills-panel-header h2 {
    font-size:1.5rem;
    font-weight:700;
    text-shadow:0 0 10px #00ff00;
    letter-spacing:1px;
}

.close-panel {
    color:#00ff00;
    font-size:1.5rem;
    cursor:pointer;
    border:none;
    background:none;
    transition:all 0.3s;
    padding:0.5rem;
    line-height:1;
}

.close-panel:hover {
    text-shadow:0 0 10px #00ff00;
    transform:rotate(90deg) scale(1.2);
}

.skill-category {
    margin-bottom:2rem;
}

.category-title {
    font-size:1rem;
    font-weight:600;
    margin-bottom:1rem;
    text-shadow:0 0 5px #00ff00;
    display:flex;
    align-items:center;
    gap:0.5rem;
    letter-spacing:0.5px;
}

.category-title::before {
    content:"▸";
    font-size:1.2rem;
}

.skill-items {
    display:flex;
    flex-wrap:wrap;
    gap:0.6rem;
}

.skill-tag {
    color:#00ff00;
    font-size:0.7rem;
    font-weight:500;
    padding:0.5rem 0.9rem;
    border:1px solid #00ff00;
    border-radius:4px;
    background:rgba(0,0,0,0.5);
    text-shadow:0 0 5px #00ff00;
    white-space:nowrap;
    transition:all 0.3s;
}

.skill-tag:hover {
    background:rgba(0,255,0,0.2);
    box-shadow:0 0 15px rgba(0,255,0,0.5);
    transform:scale(1.05);
}

.detail-modal {
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%, -50%);
    z-index:100;
    display:none;
    background:rgba(0,0,0,0.95);
    border:2px solid #00ff00;
    border-radius:10px;
    padding:2.5rem;
    box-shadow:0 0 50px #00ff00;
    max-width:850px;
    width:calc(100% - 2rem);
    max-height:calc(100vh - 2rem);
    overflow-y:auto;
}

.detail-modal.active {
    display:block;
    animation:slideIn 0.3s ease;
}

@keyframes slideIn {
    from { transform:translate(-50%, -50%) scale(0.8); opacity:0; }
    to { transform:translate(-50%, -50%) scale(1); opacity:1; }
}

.close-modal {
    position:absolute;
    top:1rem;
    right:1rem;
    color:#00ff00;
    font-size:1.5rem;
    cursor:pointer;
    border:none;
    background:none;
    transition:all 0.3s;
    padding:0.5rem;
    line-height:1;
}

.close-modal:hover {
    text-shadow:0 0 10px #00ff00;
    transform:scale(1.2);
}

.company-header {
    display:flex;
    align-items:center;
    gap:1.5rem;
    margin-bottom:2.5rem;
    padding-bottom:1.5rem;
    border-bottom:1px solid rgba(0,255,0,0.3);
    flex-wrap:wrap;
}

.company-logo {
    width:80px;
    height:80px;
    border:2px solid #00ff00;
    border-radius:10px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:2rem;
    font-weight:700;
    text-shadow:0 0 10px #00ff00;
    background:rgba(0,0,0,0.5);
    text-decoration:none;
    color:#00ff00;
    transition:all 0.3s;
    flex-shrink:0;
    overflow:hidden;
}

.company-logo img {
    width:100%;
    height:100%;
    object-fit:contain;
}

.company-logo:hover {
    box-shadow:0 0 20px #00ff00;
    transform:scale(1.05);
}

.company-info {
    flex:1;
    min-width:200px;
}

.company-info h2 {
    font-size:1.85rem;
    font-weight:700;
    margin-bottom:0.6rem;
    text-shadow:0 0 10px #00ff00;
    word-break:break-word;
    letter-spacing:0.3px;
    font-family:'Inter', 'Segoe UI', system-ui, sans-serif;
}

.company-info .duration {
    font-size:1rem;
    font-weight:400;
    opacity:0.85;
    letter-spacing:0.2px;
    font-family:'Inter', 'Segoe UI', system-ui, sans-serif;
}

.experience-section {
    margin-bottom:2.5rem;
}

.experience-section h3 {
    font-size:1.4rem;
    font-weight:600;
    margin-bottom:1.3rem;
    text-shadow:0 0 5px #00ff00;
    letter-spacing:0.3px;
    font-family:'Inter', 'Segoe UI', system-ui, sans-serif;
}

.experience-section p,
.experience-section ul {
    font-size:1rem;
    line-height:2;
    opacity:0.92;
    font-weight:400;
    font-family:'Inter', 'Segoe UI', system-ui, sans-serif;
}

.experience-section ul {
    list-style:none;
    padding-left:1rem;
}

.experience-section ul li {
    margin-bottom:1rem;
}

.experience-section ul li:before {
    content:"▹ ";
    color:#00ff00;
    font-weight:700;
}

.recommendation {
    background:rgba(0,255,0,0.05);
    border:1px solid rgba(0,255,0,0.3);
    border-radius:8px;
    padding:1.8rem;
    margin-top:2.5rem;
}

.recommendation h3 {
    font-size:1.5rem;
    font-weight:600;
    margin-bottom:1.3rem;
    text-shadow:0 0 5px #00ff00;
    letter-spacing:0.3px;
    font-family:'Inter', 'Segoe UI', system-ui, sans-serif;
}

.recommender {
    display:flex;
    gap:1rem;
    margin-bottom:1.3rem;
    flex-wrap:wrap;
}

.recommender-image {
    width:70px;
    height:70px;
    border-radius:50%;
    border:2px solid #00ff00;
    background:rgba(0,0,0,0.5);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:1.5rem;
    font-weight:700;
    text-shadow:0 0 5px #00ff00;
    flex-shrink:0;
    overflow:hidden;
    text-decoration:none;
    color:#00ff00;
    transition:all 0.3s;
}

.recommender-image img {
    width:100%;
    height:100%;
    object-fit:cover;
}

.recommender-image:hover {
    box-shadow:0 0 15px #00ff00;
    transform:scale(1.05);
}

.recommender-info {
    flex:1;
    min-width:150px;
}

.recommender-info h4 {
    font-size:1.2rem;
    font-weight:600;
    margin-bottom:0.4rem;
    letter-spacing:0.2px;
    font-family:'Inter', 'Segoe UI', system-ui, sans-serif;
}

.recommender-info p {
    font-size:0.95rem;
    font-weight:400;
    opacity:0.75;
    font-family:'Inter', 'Segoe UI', system-ui, sans-serif;
}

.recommendation-text {
    font-size:1rem;
    line-height:1.9;
    opacity:0.92;
    font-style:italic;
    font-weight:400;
    font-family:'Georgia', 'Times New Roman', serif;
}

@media (max-width: 768px) {
    .header-social {
        top:0.8rem;
        right:0.8rem;
        gap:0.7rem;
        max-width:150px;
    }
    
    .social-link {
        width:38px;
        height:38px;
        padding:0.5rem;
    }
    
    .social-link svg {
        width:18px;
        height:18px;
    }
    
    .back-home {
        top:0.8rem;
        left:0.8rem;
        padding:0.6rem 1rem;
        font-size:0.75rem;
    }
    
    .back-home svg {
        width:16px;
        height:16px;
    }
    
    .skills-toggle {
        bottom:1rem;
        left:0.8rem;
        padding:0.6rem 1rem;
        font-size:0.75rem;
    }
    
    .skills-toggle svg {
        width:16px;
        height:16px;
    }
    
    .skills-panel {
        width:300px;
        left:-300px;
        padding:1.5rem 1rem;
    }
    
    .detail-modal {
        padding:2rem;
    }
    
    .company-info h2 {
        font-size:1.5rem;
    }
    
    .company-info .duration {
        font-size:0.9rem;
    }
    
    .experience-section h3 {
        font-size:1.2rem;
    }
    
    .experience-section p,
    .experience-section ul {
        font-size:0.9rem;
        line-height:1.8;
    }
    
    .recommendation h3 {
        font-size:1.3rem;
    }
    
    .recommender-info h4 {
        font-size:1.05rem;
    }
    
    .recommender-info p {
        font-size:0.85rem;
    }
    
    .recommendation-text {
        font-size:0.9rem;
        line-height:1.7;
    }
}

@media (max-width: 480px) {
    .company-logo {
        width:65px;
        height:65px;
        font-size:1.6rem;
    }
    
    .recommender-image {
        width:55px;
        height:55px;
        font-size:1.2rem;
    }
    
    .detail-modal {
        padding:1.5rem;
    }
    
    .company-info h2 {
        font-size:1.3rem;
    }
    
    .company-info .duration {
        font-size:0.85rem;
    }
    
    .experience-section h3 {
        font-size:1.1rem;
    }
    
    .experience-section p,
    .experience-section ul {
        font-size:0.85rem;
        line-height:1.7;
    }
    
    .recommendation h3 {
        font-size:1.2rem;
    }
    
    .recommender-info h4 {
        font-size:1rem;
    }
    
    .recommender-info p {
        font-size:0.8rem;
    }
    
    .recommendation-text {
        font-size:0.85rem;
        line-height:1.6;
    }
}
</style>
</head>
<body>

<canvas id="globe-canvas"></canvas>
<div class="crt-effect"></div>

<a href="../" class="back-home">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
    </svg>
    BACK TO HOME
</a>

<button class="skills-toggle" onclick="toggleSkillsPanel()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
        <path d="M2 17l10 5 10-5"/>
        <path d="M2 12l10 5 10-5"/>
    </svg>
    SKILLS
</button>

<div class="header-social">
    <a href="https://github.com/Ishushan02" target="_blank" class="social-link" title="GitHub">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
        </svg>
    </a>
    <a href="https://linkedin.com/in/ishushan" target="_blank" class="social-link" title="LinkedIn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
            <rect x="2" y="9" width="4" height="12"/>
            <circle cx="4" cy="4" r="2"/>
        </svg>
    </a>
    <a href="mailto:isanand@ucsd.edu" class="social-link" title="Email">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
            <polyline points="22,6 12,13 2,6"/>
        </svg>
    </a>
</div>

<div class="panel-overlay" id="panel-overlay" onclick="toggleSkillsPanel()"></div>

<div class="skills-panel" id="skills-panel">
    <div class="skills-panel-header">
        <h2>TECH STACK</h2>
        <button class="close-panel" onclick="toggleSkillsPanel()">✕</button>
    </div>
    
    <div class="skill-category">
        <div class="category-title">Languages</div>
        <div class="skill-items">
            <span class="skill-tag">Python</span>
            <span class="skill-tag">C++</span>
            <span class="skill-tag">Golang</span>
            <span class="skill-tag">C</span>
        </div>
    </div>
    
    <div class="skill-category">
        <div class="category-title">Frameworks</div>
        <div class="skill-items">
            <span class="skill-tag">PyTorch</span>
            <span class="skill-tag">TensorFlow</span>
            <span class="skill-tag">React</span>
            <span class="skill-tag">FastAPI</span>
            <span class="skill-tag">Flask</span>
        </div>
    </div>
    
    <div class="skill-category">
        <div class="category-title">Cloud</div>
        <div class="skill-items">
            <span class="skill-tag">AWS</span>
            <span class="skill-tag">Docker</span>
            <span class="skill-tag">GCP</span>
        </div>
    </div>
    
    <div class="skill-category">
        <div class="category-title">Databases</div>
        <div class="skill-items">
            <span class="skill-tag">MongoDB</span>
            <span class="skill-tag">PostgreSQL</span>
            <span class="skill-tag">Redis</span>
        </div>
    </div>
    
    <div class="skill-category">
        <div class="category-title">Tools</div>
        <div class="skill-items">
            <span class="skill-tag">Image Generation</span>
            <span class="skill-tag">Video Generation</span>
            <span class="skill-tag">Computer Vision</span>
            <span class="skill-tag">NLP</span>
            <span class="skill-tag">LLMs</span>
            <span class="skill-tag">Artificial Intelligence</span>
            <span class="skill-tag">Agentic AI</span>
            <span class="skill-tag">CI/CD</span>
            <span class="skill-tag">Microservices</span>
        </div>
    </div>
</div>

<div id="detail-modal" class="detail-modal">
    <button class="close-modal" onclick="closeModal()">✕</button>
    <div id="modal-content"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
const experienceData = {
    syncron: {
        name: "Syncron",
        logo: "../images/syncron.png",
        logoFallback: "SY",
        url: "https://syncron.com",
        title: "Associate Software Developer",
        duration: "Jan 2022 - Sep 2022",
        description: [
            "Initiated and led a cloud cost-reduction effort by identifying underutilized AWS resources and implementing a tier-level architecture that improved resource efficiency, environment isolation, and overall cost visibility across deployments.",
            "Architected and deployed scalable, fault-tolerant AWS infrastructure using Terraform and Golang-based microservices, improving system reliability, service availability, and pipeline performance under sustained production workloads.",
            "Optimized data flow and isolation across staging and production environments, boosting throughput by 37%, cutting cloud costs by 11%, and minimizing latency, resource misuse, and data loss in high-traffic systems."
        ],
        recommender: {
            name: "Rithik Sahu",
            link: "https://www.linkedin.com/in/ritiksahusa/",
            title: "Senior Software Engineer",
            image: "../images/rithik.png",
            imageFallback: "RS",
            message: "Coming Soon"
        }
    },
    gnani: {
        name: "Gnani.ai",
        logo: "../images/gnani.png",
        logoFallback: "GN",
        url: "https://gnani.ai",
        title: "NLP Engineer",
        duration: "Sep 2022 - Sep 2023",
        description: [
        "Developed the dialogue state tracking and intent-resolution system for a production voice bot, responsible for maintaining conversational context and slot consistency across multi-turn user interactions.",
        "Implemented dynamic multilingual language switching driven by dialogue state transitions and ASR confidence scores, enabling seamless end-to-end conversations across more than 16 languages within a single session.",
        "Optimized inference pipelines, reducing end-to-end response latency by 55% and contributing to a 75% reduction in client operational costs through call automation."
        ],
        recommender: {
            name: "Avinash N",
            link: "https://www.linkedin.com/in/avinash-n-18092b146/",
            title: "Senior AI Project Manager",
            image: "../images/avinash.png",
            imageFallback: "AN",
            message: "I am delighted to recommend Ishan Kumar Anand, whom I supervised for over a year as Product Manager at Gnani Innovations. Ishan is a highly organized, self-motivated professional with excellent communication and leadership skills, capable of delivering under pressure and tight deadlines. He demonstrated strong design thinking, critical analysis, and a proactive approach to problem-solving, often going beyond expectations to improve processes and timelines. His ability to deeply understand systems from the ground up, combined with his expertise in designing and implementing NLP algorithms, reflects his strong analytical mindset and up-to-date technical knowledge."
        }
    },
    vigaet: {
        name: "Viga Entertainment Technology",
        logo: "../images/viga.png",
        logoFallback: "VE",
        url: "https://www.vigaet.com/",
        title: "AI Engineer",
        duration: "Jan 2024 - Jun 2024",
        description: [
            "Designed and implemented a controllable text-to-video generation framework with explicit multimodal conditioning on depth maps and human pose, enabling precise control over motion dynamics and long-range temporal coherence.",
            "Developed and trained character- and scene-specific diffusion models to maintain identity, appearance, and background consistency across extended video sequences, significantly mitigating temporal drift and compounding artifacts.",
            "Incorporated diffusion-based super-resolution and segmentation models into a production-scale VFX pipeline, reducing manual artist intervention by approximately 40% while improving perceptual fidelity and inter-frame consistency.",
            "This project was developed for a Hollywood production and later transitioned to Google AI research."
        ],
        recommender: {
            name: "Sujay HG",
            link: "https://www.linkedin.com/in/hgsujay/",
            title: "CTO",
            image: "../images/sujay.png",
            imageFallback: "SJ",
            message: "Have worked with Ishan on a generative AI project. Ishan was the lead AI engineer. He contributed to the project with a lot of passion and enthusiasm. He is curious about his field and he dedicated himself to learning new skills and reading numerous reasearch papers and implementing them in the project. He learnt generative AI tools like. ComfyUI and Automatic1111 within a matter of few days and even helped the rest of the team to get to the pace. He is a good team player and led the team really well. The team was on point with their deliveries and deadlines.  Hope to work with you again, Ishan :)"
        }
    }
};

const canvas = document.getElementById('globe-canvas');
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });

renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
camera.position.z = 8;

const starGeometry = new THREE.BufferGeometry();
const starVertices = [];
const starVelocities = [];
const starCount = 3000;

for (let i = 0; i < starCount; i++) {
    const x = (Math.random() - 0.5) * 200;
    const y = (Math.random() - 0.5) * 200;
    const z = (Math.random() - 0.5) * 200;
    starVertices.push(x, y, z);
    
    starVelocities.push(
        (Math.random() - 0.5) * 0.02,
        (Math.random() - 0.5) * 0.02,
        (Math.random() - 0.5) * 0.02
    );
}

starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
const starMaterial = new THREE.PointsMaterial({ 
    color: 0x00ff00, 
    size: 0.15,
    transparent: true,
    opacity: 0.8
});
const stars = new THREE.Points(starGeometry, starMaterial);
scene.add(stars);


const centerGlobe = createGlobe("EXPERIENCE", 64);
scene.add(centerGlobe);

// const companyGlobes = [];
// const companies = [
//     { key: 'syncron', name: 'SYNCRON', angle: 0 },
//     { key: 'gnani', name: 'GNANI.AI', angle: (2 * Math.PI) / 3 },
//     { key: 'vigaet', name: 'VIGAET', angle: (4 * Math.PI) / 3 }
// ];

// companies.forEach(company => {
//     const globe = createGlobe(company.name, 32);

// const centerGlobe = createGlobe("EXPERIENCE", 2);
scene.add(centerGlobe);

const companyGlobes = [];
const companies = [
    { key: 'syncron', name: 'SYNCRON', angle: 0 },
    { key: 'gnani', name: 'GNANI.AI', angle: (2 * Math.PI) / 3 },
    { key: 'vigaet', name: 'VIGAET', angle: (4 * Math.PI) / 3 }
];

companies.forEach(company => {
    const globe = createGlobe(company.name, 32);
    globe.userData = {
        key: company.key,
        angle: company.angle,
        name: company.name
    };
    scene.add(globe);
    companyGlobes.push(globe);
});

function createGlobe(text, size) {
    const group = new THREE.Group();
    
    const geometry = new THREE.SphereGeometry(size, 32, 32);
    const material = new THREE.MeshBasicMaterial({
        color: 0x00ff00,
        wireframe: true,
        transparent: true,
        opacity: 0.4
    });
    const sphere = new THREE.Mesh(geometry, material);
    group.add(sphere);
    
    const dotGeometry = new THREE.SphereGeometry(size * 0.02, 8, 8);
    const dotMaterial = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
    const dotCount = 50;
    
    for (let i = 0; i < dotCount; i++) {
        const dot = new THREE.Mesh(dotGeometry, dotMaterial);
        const theta = Math.random() * Math.PI * 2;
        const phi = Math.acos(2 * Math.random() - 1);
        
        dot.position.x = size * Math.sin(phi) * Math.cos(theta);
        dot.position.y = size * Math.sin(phi) * Math.sin(theta);
        dot.position.z = size * Math.cos(phi);
        
        sphere.add(dot);
    }
    
    const canvas = document.createElement('canvas');
    const context = canvas.getContext('2d');
    canvas.width = 512;
    canvas.height = 512;
    
    context.fillStyle = '#00ff00';
    // context.font = `bold ${size === 2 ? 60 : 70}px Space Grotesk, JetBrains Mono`;
    context.font = 'bold 75px Times New Roman';

    context.textAlign = 'center';
    context.textBaseline = 'middle';
    
    const words = text.split(' ');
    const lineHeight = size === 2 ? 75 : 85;
    const startY = 256 - ((words.length - 1) * lineHeight / 2);
    
    words.forEach((word, i) => {
        context.fillText(word, 256, startY + (i * lineHeight));
    });
    
    const texture = new THREE.CanvasTexture(canvas);
    const spriteMaterial = new THREE.SpriteMaterial({ 
        map: texture,
        transparent: true
    });
    const sprite = new THREE.Sprite(spriteMaterial);
    sprite.scale.set(size * 1.4, size * 1.4, 1);
    
    group.add(sprite);
    group.userData.sphere = sphere;
    
    return group;
}

const raycaster = new THREE.Raycaster();
const mouse = new THREE.Vector2();
let hoveredGlobe = null;

function updateMousePosition(clientX, clientY) {
    mouse.x = (clientX / window.innerWidth) * 2 - 1;
    mouse.y = -(clientY / window.innerHeight) * 2 + 1;
    
    raycaster.setFromCamera(mouse, camera);
    const intersects = raycaster.intersectObjects(companyGlobes, true);
    
    if (intersects.length > 0) {
        const globe = intersects[0].object.parent;
        if (globe.userData.key) {
            hoveredGlobe = globe;
            canvas.style.cursor = 'pointer';
            globe.scale.set(1.2, 1.2, 1.2);
        }
    } else {
        if (hoveredGlobe) {
            hoveredGlobe.scale.set(1, 1, 1);
        }
        hoveredGlobe = null;
        canvas.style.cursor = 'default';
    }
}

canvas.addEventListener('mousemove', (event) => {
    updateMousePosition(event.clientX, event.clientY);
});

let touchStartX = 0;
let touchStartY = 0;

canvas.addEventListener('touchstart', (event) => {
    if (event.touches.length > 0) {
        touchStartX = event.touches[0].clientX;
        touchStartY = event.touches[0].clientY;
        updateMousePosition(touchStartX, touchStartY);
    }
}, { passive: true });

canvas.addEventListener('touchmove', (event) => {
    if (event.touches.length > 0) {
        updateMousePosition(event.touches[0].clientX, event.touches[0].clientY);
    }
}, { passive: true });

function handleClick(clientX, clientY) {
    mouse.x = (clientX / window.innerWidth) * 2 - 1;
    mouse.y = -(clientY / window.innerHeight) * 2 + 1;
    
    raycaster.setFromCamera(mouse, camera);
    const intersects = raycaster.intersectObjects(companyGlobes, true);
    
    if (intersects.length > 0) {
        const globe = intersects[0].object.parent;
        if (globe.userData.key) {
            showDetails(globe.userData.key);
            globe.scale.set(1, 1, 1);
            hoveredGlobe = null;
        }
    }
}

canvas.addEventListener('click', (event) => {
    handleClick(event.clientX, event.clientY);
});

canvas.addEventListener('touchend', (event) => {
    if (event.changedTouches.length > 0) {
        const touch = event.changedTouches[0];
        const touchEndX = touch.clientX;
        const touchEndY = touch.clientY;
        
        const deltaX = Math.abs(touchEndX - touchStartX);
        const deltaY = Math.abs(touchEndY - touchStartY);
        
        if (deltaX < 10 && deltaY < 10) {
            handleClick(touchEndX, touchEndY);
        }
    }
}, { passive: true });

function showDetails(companyKey) {
    const data = experienceData[companyKey];
    const modal = document.getElementById('detail-modal');
    const content = document.getElementById('modal-content');
    
    const companyLogoHTML = data.logo && data.logo.endsWith('.png') 
        ? `<a href="${data.url}" target="_blank" class="company-logo"><img src="${data.logo}" alt="${data.name}" onerror="this.parentElement.innerHTML='${data.logoFallback}'"></a>`
        : `<a href="${data.url}" target="_blank" class="company-logo">${data.logoFallback}</a>`;
    
    const recommenderImageHTML = data.recommender.image && data.recommender.image.endsWith('.png')
        ? `<a href="${data.recommender.link}" target="_blank" class="recommender-image"><img src="${data.recommender.image}" alt="${data.recommender.name}" onerror="this.parentElement.innerHTML='${data.recommender.imageFallback}'"></a>`
        : `<a href="${data.recommender.link}" target="_blank" class="recommender-image">${data.recommender.imageFallback}</a>`;
    
    content.innerHTML = `
        <div class="company-header">
            ${companyLogoHTML}
            <div class="company-info">
                <h2>${data.title}</h2>
                <div class="duration">${data.duration}</div>
            </div>
        </div>
        
        <div class="experience-section">
            <h3>Key Responsibilities</h3>
            <ul>
                ${data.description.map(item => `<li>${item}</li>`).join('')}
            </ul>
        </div>
        
        <div class="recommendation">
            <h3>Recommendation</h3>
            <div class="recommender">
                ${recommenderImageHTML}
                <div class="recommender-info">
                    <h4>${data.recommender.name}</h4>
                    <p>${data.recommender.title}</p>
                </div>
            </div>
            <div class="recommendation-text">
                "${data.recommender.message}"
            </div>
        </div>
    `;
    
    modal.classList.add('active');
}

function closeModal() {
    document.getElementById('detail-modal').classList.remove('active');
}

function toggleSkillsPanel() {
    const panel = document.getElementById('skills-panel');
    const overlay = document.getElementById('panel-overlay');
    
    panel.classList.toggle('active');
    overlay.classList.toggle('active');
}

const orbitRadius = 4.5;
let time = 0;

function animate() {
    requestAnimationFrame(animate);
    time += 0.01;
    
    const positions = stars.geometry.attributes.position.array;
    for (let i = 0; i < positions.length; i += 3) {
        positions[i] += starVelocities[i] * 0.5;
        positions[i + 1] += starVelocities[i + 1] * 0.5;
        positions[i + 2] += starVelocities[i + 2] * 0.5;
        
        if (Math.abs(positions[i]) > 100) positions[i] *= -1;
        if (Math.abs(positions[i + 1]) > 100) positions[i + 1] *= -1;
        if (Math.abs(positions[i + 2]) > 100) positions[i + 2] *= -1;
    }
    stars.geometry.attributes.position.needsUpdate = true;
    
    if (centerGlobe.userData.sphere) {
        centerGlobe.userData.sphere.rotation.y += 0.002;
    }
    
    // Self-rotate the center globe on Y axis only
    centerGlobe.rotation.y += 0.006;
    
    companyGlobes.forEach((globe) => {
        globe.userData.angle += 0.003;
        
        const x = Math.cos(globe.userData.angle) * orbitRadius;
        const z = Math.sin(globe.userData.angle) * orbitRadius;
        const y = Math.sin(globe.userData.angle * 1.5) * 0.8;
        
        globe.position.set(x, y, z);
        
        // Self-rotate the entire globe group on Y axis only
        globe.rotation.y += 0.008;
        
        if (globe.userData.sphere) {
            globe.userData.sphere.rotation.y += 0.005;
        }
    });
    
    renderer.render(scene, camera);
}

animate();

window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
});

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeModal();
    }
});
</script>

</body>
</html>